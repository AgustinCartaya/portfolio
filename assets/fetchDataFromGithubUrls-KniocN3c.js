var pe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var i=(t,e,r)=>(pe(t,e,"read from private field"),r?r.call(t):e.get(t)),p=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},c=(t,e,r,s)=>(pe(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);var v=(t,e,r)=>(pe(t,e,"access private method"),r);import{S as Je,a as ve,n as Xe,i as xe,b as Ie,t as Ye,f as Ze,c as et,d as De,e as Ne,r as L,g as tt}from"./index-okW6vBvv.js";import{p as rt}from"./index-aRrg5YRi.js";var w,h,V,y,A,W,T,X,B,K,F,N,S,Q,k,J,Y,ye,Z,be,ee,me,te,ge,re,we,se,Re,ie,Oe,le,Qe,Fe,st=(Fe=class extends Je{constructor(e,r){super();p(this,k);p(this,Y);p(this,Z);p(this,ee);p(this,te);p(this,re);p(this,se);p(this,ie);p(this,le);p(this,w,void 0);p(this,h,void 0);p(this,V,void 0);p(this,y,void 0);p(this,A,void 0);p(this,W,void 0);p(this,T,void 0);p(this,X,void 0);p(this,B,void 0);p(this,K,void 0);p(this,F,void 0);p(this,N,void 0);p(this,S,void 0);p(this,Q,void 0);c(this,h,void 0),c(this,V,void 0),c(this,y,void 0),c(this,Q,new Set),c(this,w,e),this.options=r,c(this,T,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,h).addObserver(this),Me(i(this,h),this.options)?v(this,k,J).call(this):this.updateResult(),v(this,te,ge).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ee(i(this,h),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ee(i(this,h),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,v(this,re,we).call(this),v(this,se,Re).call(this),i(this,h).removeObserver(this)}setOptions(e,r){const s=this.options,a=i(this,h);if(this.options=i(this,w).defaultQueryOptions(e),ve(s,this.options)||i(this,w).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,h),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),v(this,ie,Oe).call(this);const n=this.hasListeners();n&&Ae(i(this,h),a,this.options,s)&&v(this,k,J).call(this),this.updateResult(r),n&&(i(this,h)!==a||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&v(this,Y,ye).call(this);const o=v(this,Z,be).call(this);n&&(i(this,h)!==a||this.options.enabled!==s.enabled||o!==i(this,S))&&v(this,ee,me).call(this,o)}getOptimisticResult(e){const r=i(this,w).getQueryCache().build(i(this,w),e),s=this.createResult(r,e);return nt(this,s)&&(c(this,y,s),c(this,W,this.options),c(this,A,i(this,h).state)),s}getCurrentResult(){return i(this,y)}trackResult(e){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(i(this,Q).add(s),e[s])})}),r}getCurrentQuery(){return i(this,h)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=i(this,w).defaultQueryOptions(e),s=i(this,w).getQueryCache().build(i(this,w),r);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,r))}fetch(e){return v(this,k,J).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,y)))}createResult(e,r){var M;const s=i(this,h),a=this.options,n=i(this,y),o=i(this,A),u=i(this,W),b=e!==s?e.state:i(this,V),{state:l}=e;let{error:z,errorUpdatedAt:q,fetchStatus:x,status:E}=l,j=!1,m;if(r._optimisticResults){const g=this.hasListeners(),de=!g&&Me(e,r),$e=g&&Ae(e,s,r,a);(de||$e)&&(x=et(e.options.networkMode)?"fetching":"paused",l.dataUpdatedAt||(E="pending")),r._optimisticResults==="isRestoring"&&(x="idle")}if(r.select&&typeof l.data<"u")if(n&&l.data===(o==null?void 0:o.data)&&r.select===i(this,X))m=i(this,B);else try{c(this,X,r.select),m=r.select(l.data),m=De(n==null?void 0:n.data,m,r),c(this,B,m),c(this,T,null)}catch(g){c(this,T,g)}else m=l.data;if(typeof r.placeholderData<"u"&&typeof m>"u"&&E==="pending"){let g;if(n!=null&&n.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData))g=n.data;else if(g=typeof r.placeholderData=="function"?r.placeholderData((M=i(this,K))==null?void 0:M.state.data,i(this,K)):r.placeholderData,r.select&&typeof g<"u")try{g=r.select(g),c(this,T,null)}catch(de){c(this,T,de)}typeof g<"u"&&(E="success",m=De(n==null?void 0:n.data,g,r),j=!0)}i(this,T)&&(z=i(this,T),m=i(this,B),q=Date.now(),E="error");const I=x==="fetching",D=E==="pending",P=E==="error",G=D&&I;return{status:E,fetchStatus:x,isPending:D,isSuccess:E==="success",isError:P,isInitialLoading:G,isLoading:G,data:m,dataUpdatedAt:l.dataUpdatedAt,error:z,errorUpdatedAt:q,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>b.dataUpdateCount||l.errorUpdateCount>b.errorUpdateCount,isFetching:I,isRefetching:I&&!D,isLoadingError:P&&l.dataUpdatedAt===0,isPaused:x==="paused",isPlaceholderData:j,isRefetchError:P&&l.dataUpdatedAt!==0,isStale:Le(e,r),refetch:this.refetch}}updateResult(e){const r=i(this,y),s=this.createResult(i(this,h),this.options);if(c(this,A,i(this,h).state),c(this,W,this.options),i(this,A).data!==void 0&&c(this,K,i(this,h)),ve(s,r))return;c(this,y,s);const a={},n=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!i(this,Q).size)return!0;const d=new Set(u??i(this,Q));return this.options.throwOnError&&d.add("error"),Object.keys(i(this,y)).some(b=>{const l=b;return i(this,y)[l]!==r[l]&&d.has(l)})};(e==null?void 0:e.listeners)!==!1&&n()&&(a.listeners=!0),v(this,le,Qe).call(this,{...a,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&v(this,te,ge).call(this)}},w=new WeakMap,h=new WeakMap,V=new WeakMap,y=new WeakMap,A=new WeakMap,W=new WeakMap,T=new WeakMap,X=new WeakMap,B=new WeakMap,K=new WeakMap,F=new WeakMap,N=new WeakMap,S=new WeakMap,Q=new WeakMap,k=new WeakSet,J=function(e){v(this,ie,Oe).call(this);let r=i(this,h).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Xe)),r},Y=new WeakSet,ye=function(){if(v(this,re,we).call(this),xe||i(this,y).isStale||!Ie(this.options.staleTime))return;const r=Ye(i(this,y).dataUpdatedAt,this.options.staleTime)+1;c(this,F,setTimeout(()=>{i(this,y).isStale||this.updateResult()},r))},Z=new WeakSet,be=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,h)):this.options.refetchInterval)??!1},ee=new WeakSet,me=function(e){v(this,se,Re).call(this),c(this,S,e),!(xe||this.options.enabled===!1||!Ie(i(this,S))||i(this,S)===0)&&c(this,N,setInterval(()=>{(this.options.refetchIntervalInBackground||Ze.isFocused())&&v(this,k,J).call(this)},i(this,S)))},te=new WeakSet,ge=function(){v(this,Y,ye).call(this),v(this,ee,me).call(this,v(this,Z,be).call(this))},re=new WeakSet,we=function(){i(this,F)&&(clearTimeout(i(this,F)),c(this,F,void 0))},se=new WeakSet,Re=function(){i(this,N)&&(clearInterval(i(this,N)),c(this,N,void 0))},ie=new WeakSet,Oe=function(){const e=i(this,w).getQueryCache().build(i(this,w),this.options);if(e===i(this,h))return;const r=i(this,h);c(this,h,e),c(this,V,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},le=new WeakSet,Qe=function(e){Ne.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(i(this,y))}),i(this,w).getQueryCache().notify({query:i(this,h),type:"observerResultsUpdated"})})},Fe);function it(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Me(t,e){return it(t,e)||t.state.dataUpdatedAt>0&&Ee(t,e,e.refetchOnMount)}function Ee(t,e,r){if(e.enabled!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&Le(t,e)}return!1}function Ae(t,e,r,s){return r.enabled!==!1&&(t!==e||s.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Le(t,r)}function Le(t,e){return t.isStaleByTime(e.staleTime)}function nt(t,e){return!ve(t.getCurrentResult(),e)}var ke=L.createContext(!1),at=()=>L.useContext(ke);ke.Provider;function ot(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ut=L.createContext(ot()),lt=()=>L.useContext(ut);function ct(t,e){return typeof t=="function"?t(...e):!!t}var ft=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},ht=t=>{L.useEffect(()=>{t.clearReset()},[t])},dt=({result:t,errorResetBoundary:e,throwOnError:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&ct(r,[t.error,s]),pt=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},vt=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,yt=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function bt(t,e,r){const s=tt(r),a=at(),n=lt(),o=s.defaultQueryOptions(t);o._optimisticResults=a?"isRestoring":"optimistic",pt(o),ft(o,n),ht(n);const[u]=L.useState(()=>new e(s,o)),d=u.getOptimisticResult(o);if(L.useSyncExternalStore(L.useCallback(b=>{const l=a?()=>{}:u.subscribe(Ne.batchCalls(b));return u.updateResult(),l},[u,a]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),L.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),vt(o,d))throw u.setOptions(o,{listeners:!1}),yt(o,u,n);if(dt({result:d,errorResetBoundary:n,throwOnError:o.throwOnError,query:u.getCurrentQuery()}))throw d.error;return o.notifyOnChangeProps?d:u.trackResult(d)}function zt(t,e){return bt(t,st,e)}var U={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.on=mt;ce.off=gt;function mt(t,e,r,s){s=s||!1,t.addEventListener?t.addEventListener(e,r,s):t.attachEvent&&t.attachEvent("on"+e,function(a){r.call(t,a||window.event)})}function gt(t,e,r,s){s=s||!1,t.removeEventListener?t.removeEventListener(e,r,s):t.detachEvent&&t.detachEvent("on"+e,r)}var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=function(t){if(!(t instanceof HTMLElement))return document.documentElement;for(var e=t.style.position==="absolute",r=/(scroll|auto)/,s=t;s;){if(!s.parentNode)return t.ownerDocument||document.documentElement;var a=window.getComputedStyle(s),n=a.position,o=a.overflow,u=a["overflow-x"],d=a["overflow-y"];if(n==="static"&&e){s=s.parentNode;continue}if(r.test(o)&&r.test(u)&&r.test(d))return s;s=s.parentNode}return t.ownerDocument||t.documentElement||document.documentElement};var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=wt;function wt(t,e,r){var s=void 0,a=void 0,n=void 0,o=void 0,u=void 0,d=function b(){var l=+new Date-o;l<e&&l>=0?s=setTimeout(b,e-l):(s=null,r||(u=t.apply(n,a),s||(n=null,a=null)))};return function(){n=this,a=arguments,o=+new Date;var l=r&&!s;return s||(s=setTimeout(d,e)),l&&(u=t.apply(n,a),n=null,a=null),u}}var Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.default=Rt;function Rt(t,e,r){e||(e=250);var s,a;return function(){var n=r||this,o=+new Date,u=arguments;s&&o<s+e?(clearTimeout(a),a=setTimeout(function(){s=o,t.apply(n,u)},e)):(s=o,t.apply(n,u))}}Object.defineProperty(U,"__esModule",{value:!0});U.forceVisible=U.forceCheck=U.lazyload=void 0;var ze=function(){function t(e,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,s){return r&&t(e.prototype,r),s&&t(e,s),e}}(),Ue=L,ue=ne(Ue),Ot=rt,f=ne(Ot),H=ce,Et=Pe,_e=ne(Et),_t=Ce,Tt=ne(_t),Lt=Se,Pt=ne(Lt);function ne(t){return t&&t.__esModule?t:{default:t}}function je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function He(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _={top:0,right:0,bottom:0,left:0,width:0,height:0},$="data-lazyload-listened",O=[],Te=[],We=!1;try{var Ct=Object.defineProperty({},"passive",{get:function(){We=!0}});window.addEventListener("test",null,Ct)}catch{}var C=We?{capture:!1,passive:!0}:!1,St=function(e,r){var s=e.ref,a=void 0,n=void 0,o=void 0,u=void 0;try{var d=r.getBoundingClientRect();a=d.top,n=d.left,o=d.height,u=d.width}catch{a=_.top,n=_.left,o=_.height,u=_.width}var b=window.innerHeight||document.documentElement.clientHeight,l=window.innerWidth||document.documentElement.clientWidth,z=Math.max(a,0),q=Math.max(n,0),x=Math.min(b,a+o)-z,E=Math.min(l,n+u)-q,j=void 0,m=void 0,I=void 0,D=void 0;try{var P=s.getBoundingClientRect();j=P.top,m=P.left,I=P.height,D=P.width}catch{j=_.top,m=_.left,I=_.height,D=_.width}var G=j-z,he=m-q,M=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return G-M[0]<=x&&G+I+M[1]>=0&&he-M[0]<=E&&he+D+M[1]>=0},Ut=function(e){var r=e.ref;if(!(r.offsetWidth||r.offsetHeight||r.getClientRects().length))return!1;var s=void 0,a=void 0;try{var n=r.getBoundingClientRect();s=n.top,a=n.height}catch{s=_.top,a=_.height}var o=window.innerHeight||document.documentElement.clientHeight,u=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return s-u[0]<=o&&s+a+u[1]>=0},Be=function(e){var r=e.ref;if(r instanceof HTMLElement){var s=(0,_e.default)(r),a=e.props.overflow&&s!==r.ownerDocument&&s!==document&&s!==document.documentElement,n=a?St(e,s):Ut(e);n?e.visible||(e.props.once&&Te.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},Ke=function(){Te.forEach(function(e){var r=O.indexOf(e);r!==-1&&O.splice(r,1)}),Te=[]},oe=function(){for(var e=0;e<O.length;++e){var r=O[e];Be(r)}Ke()},xt=function(){for(var e=0;e<O.length;++e){var r=O[e];r.visible=!0,r.forceUpdate()}Ke()},ae=void 0,R=null,It=function(e){return typeof e=="string"},fe=function(t){Ve(e,t);function e(r){je(this,e);var s=He(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return s.visible=!1,s.setRef=s.setRef.bind(s),s}return ze(e,[{key:"componentDidMount",value:function(){var s=window,a=this.props.scrollContainer;a&&It(a)&&(s=s.document.querySelector(a));var n=this.props.debounce!==void 0&&ae==="throttle"||ae==="debounce"&&this.props.debounce===void 0;if(n&&((0,H.off)(s,"scroll",R,C),(0,H.off)(window,"resize",R,C),R=null),R||(this.props.debounce!==void 0?(R=(0,Tt.default)(oe,typeof this.props.debounce=="number"?this.props.debounce:300),ae="debounce"):this.props.throttle!==void 0?(R=(0,Pt.default)(oe,typeof this.props.throttle=="number"?this.props.throttle:300),ae="throttle"):R=oe),this.props.overflow){var o=(0,_e.default)(this.ref);if(o&&typeof o.getAttribute=="function"){var u=1+ +o.getAttribute($);u===1&&o.addEventListener("scroll",R,C),o.setAttribute($,u)}}else if(O.length===0||n){var d=this.props,b=d.scroll,l=d.resize;b&&(0,H.on)(s,"scroll",R,C),l&&(0,H.on)(window,"resize",R,C)}O.push(this),Be(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var s=(0,_e.default)(this.ref);if(s&&typeof s.getAttribute=="function"){var a=+s.getAttribute($)-1;a===0?(s.removeEventListener("scroll",R,C),s.removeAttribute($)):s.setAttribute($,a)}}var n=O.indexOf(this);n!==-1&&O.splice(n,1),O.length===0&&typeof window<"u"&&((0,H.off)(window,"resize",R,C),(0,H.off)(window,"scroll",R,C))}},{key:"setRef",value:function(s){s&&(this.ref=s)}},{key:"render",value:function(){var s=this.props,a=s.height,n=s.children,o=s.placeholder,u=s.className,d=s.classNamePrefix,b=s.style;return ue.default.createElement("div",{className:d+"-wrapper "+u,ref:this.setRef,style:b},this.visible?n:o||ue.default.createElement("div",{style:{height:a},className:d+"-placeholder"}))}}]),e}(Ue.Component);fe.propTypes={className:f.default.string,classNamePrefix:f.default.string,once:f.default.bool,height:f.default.oneOfType([f.default.number,f.default.string]),offset:f.default.oneOfType([f.default.number,f.default.arrayOf(f.default.number)]),overflow:f.default.bool,resize:f.default.bool,scroll:f.default.bool,children:f.default.node,throttle:f.default.oneOfType([f.default.number,f.default.bool]),debounce:f.default.oneOfType([f.default.number,f.default.bool]),placeholder:f.default.node,scrollContainer:f.default.oneOfType([f.default.string,f.default.object]),unmountIfInvisible:f.default.bool,style:f.default.object};fe.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var Dt=function(e){return e.displayName||e.name||"Component"},Mt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(s){return function(a){Ve(n,a);function n(){je(this,n);var o=He(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return o.displayName="LazyLoad"+Dt(s),o}return ze(n,[{key:"render",value:function(){return ue.default.createElement(fe,e,ue.default.createElement(s,this.props))}}]),n}(Ue.Component)}};U.lazyload=Mt;var jt=U.default=fe;U.forceCheck=oe;U.forceVisible=xt;const At=async t=>{try{return(await(await fetch(t)).json()).map(a=>a.path)}catch(e){throw new Error("Oops, an error occurred: "+e)}},qe="AgustinCartaya",Ge="portfolio",Ft=`https://raw.githubusercontent.com/${qe}/${Ge}/main/`,Ht=async t=>{try{const e=`https://api.github.com/repos/${qe}/${Ge}/contents/src/data/${t}`,r=await At(e),s=await Promise.all(r.map(n=>fetch(`${Ft}${n}/description.json`)));return await Promise.all(s.map(async n=>{try{return await n.json()}catch(o){throw new Error("Failed to parse JSON:",o)}}))}catch(e){throw new Error(`Oops, an error occurred: ${e}`)}};export{jt as _,Ht as f,zt as u};
